(window.webpackJsonp=window.webpackJsonp||[]).push([[105,44,127],{375:function(t,e,o){"use strict";var n=o(11),r=o(6),l=o(5),c=o(114),d=o(19),m=o(14),h=o(242),v=o(45),f=o(91),_=o(243),C=o(4),k=o(90).f,y=o(37).f,T=o(18).f,A=o(377),w=o(244).trim,I="Number",N=r.Number,x=N.prototype,E=r.TypeError,F=l("".slice),S=l("".charCodeAt),O=function(t){var e=_(t,"number");return"bigint"==typeof e?e:j(e)},j=function(t){var e,o,n,r,l,c,d,code,m=_(t,"number");if(f(m))throw E("Cannot convert a Symbol value to a number");if("string"==typeof m&&m.length>2)if(m=w(m),43===(e=S(m,0))||45===e){if(88===(o=S(m,2))||120===o)return NaN}else if(48===e){switch(S(m,1)){case 66:case 98:n=2,r=49;break;case 79:case 111:n=8,r=55;break;default:return+m}for(c=(l=F(m,2)).length,d=0;d<c;d++)if((code=S(l,d))<48||code>r)return NaN;return parseInt(l,n)}return+m};if(c(I,!N(" 0o1")||!N("0b1")||N("+0x1"))){for(var P,V=function(t){var e=arguments.length<1?0:N(O(t)),o=this;return v(x,o)&&C((function(){A(o)}))?h(Object(e),o,V):e},M=n?k(N):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),R=0;M.length>R;R++)m(N,P=M[R])&&!m(V,P)&&T(V,P,y(N,P));V.prototype=x,x.constructor=V,d(r,I,V,{constructor:!0})}},377:function(t,e,o){var n=o(5);t.exports=n(1..valueOf)},379:function(t,e,o){"use strict";o.r(e);var n={name:"OrganismsoFlashMessagesComponent",props:{text:{type:String,required:!0},styleThema:{type:String,required:!0}}},r=o(2),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return t.text?e("div",{staticClass:"o-flash-messages"},[e("div",{staticClass:"o-flash-messages__items"},[e("div",{class:"o-flash-messages__item"+(t.styleThema?t.styleThema:"")},[e("div",{staticClass:"o-flash-messages__outer"},[e("div",{staticClass:"o-flash-messages__inner"},[e("span",{staticClass:"o-flash-messages__text",domProps:{innerHTML:t._s(t.text)}})])])])])]):t._e()}),[],!1,null,null,null);e.default=component.exports},400:function(t,e,o){"use strict";o.r(e);var n={name:"SkeletonoVisitedButtonComponent",props:{styleThema:{type:String,required:!0}}},r=o(2),component=Object(r.a)(n,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"skeleton-o-visited-button"},[e("div",{staticClass:"skeleton-o-visited-button__outer"},[e("div",{staticClass:"skeleton-o-visited-button__inner"},[e("div",{staticClass:"skeleton-o-visited-button__items"},t._l(2,(function(o){return e("div",{key:o,staticClass:"skeleton-o-visited-button__item"},[e("span",{class:"skeleton-o-visited-button__button loading-image"+t.styleThema})])})),0)])])])}),[],!1,null,null,null);e.default=component.exports},412:function(t,e,o){"use strict";o.r(e);var n=o(10),r=(o(54),o(375),o(13),o(68),o(400)),l=o(379),c={name:"OrganismsoVisitedButtonComponent",components:{skeletonoVisitedButton:r.default,oFlashMessages:l.default},data:function(){return{errorForm:"",successForm:"",skeleton:!0,status:0,email:this.email,passwordHash:this.passwordHash}},props:{place:{type:Number,required:!0},placeType:{type:String,required:!0}},methods:{visited:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,data;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.frytolnacestach.cz/api/user-visited-place?email=".concat(encodeURIComponent(t.email),"&password_hash=").concat(encodeURIComponent(t.passwordHash),"&id_place=").concat(encodeURIComponent(t.place),"&type=").concat(t.placeType),{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000","Access-Control-Allow-Headers":"X-Requested-With, Content-Type, Accept","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, PATCH"},method:"GET"});case 3:if(!(o=e.sent).ok){e.next=13;break}return console.log("Záznam načten"),e.next=8,o.json();case 8:data=e.sent,t.status=data.message[0].status,t.skeleton=!1,e.next=14;break;case 13:404===o.status?(console.log("Uživatel neexistuje"),t.skeleton=!1):405===o.status?(console.log("Místo uživatel nemá uložené"),t.skeleton=!1):console.log("Chyba při komunikaci s API");case 14:e.next=21;break;case 16:throw e.prev=16,e.t0=e.catch(0),console.log(e.t0),t.errorForm="Chyba připojení k API",e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,16]])})))()},editVisited:function(t){var e=this;return Object(n.a)(regeneratorRuntime.mark((function o(){var n;return regeneratorRuntime.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,e.status=t,o.prev=2,o.next=5,fetch("https://api.frytolnacestach.cz/api/user-visited-place-edit",{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000","Access-Control-Allow-Headers":"X-Requested-With, Content-Type, Accept","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, PATCH"},method:"POST",body:JSON.stringify({email:e.email,password_hash:e.passwordHash,id_place:e.place,type:e.placeType,status:e.status})});case 5:(n=o.sent).ok?201===n.status?(console.log("Záznam uložen"),e.successForm="Záznam uložen"):200===n.status&&(console.log("Záznam odebrán"),e.successForm="Záznam odebrán",e.status=0):404===n.status?(console.log("Vypadá to že nejsi přihlášen ke svému účtu."),e.status=0,e.errorForm="Vypadá to, že nejsi přihlášen ke svému účtu."):(console.log("Chyba při komunikaci s API"),e.errorForm="Chyba při komunikaci s API"),o.next=14;break;case 9:throw o.prev=9,o.t0=o.catch(2),console.log(o.t0),e.errorForm="Chyba připojení k API",o.t0;case 14:o.next=20;break;case 16:o.prev=16,o.t1=o.catch(0),console.log(o.t1),e.errorForm="Nastala chyba";case 20:case"end":return o.stop()}}),o,null,[[0,16],[2,9]])})))()}},mounted:function(){var t=localStorage.getItem("email"),e=localStorage.getItem("password_hash");this.email=t,this.passwordHash=e,this.visited()}},d=o(2),component=Object(d.a)(c,(function(){var t=this,e=t._self._c;return e("section",{staticClass:"t-component-skeleton hidden-print"},[!0===t.skeleton?e("skeletonoVisitedButton",{attrs:{styleThema:" -skeleton-green"}}):t._e(),t._v(" "),!1===t.skeleton?e("client-only",[e("div",{staticClass:"o-visited-button"},[e("oFlashMessages",{attrs:{text:t.errorForm,styleThema:" -error"}}),t._v(" "),e("oFlashMessages",{attrs:{text:t.successForm,styleThema:" -success"}}),t._v(" "),e("div",{staticClass:"o-visited-button__outer"},[e("div",{staticClass:"o-visited-button__inner"},[e("div",{staticClass:"o-visited-button__items"},[e("div",{staticClass:"o-visited-button__item"},[e("span",{staticClass:"o-visited-button__button -future",class:{"-active":2===t.status},on:{click:function(e){return t.editVisited(2)}}},[t._v("Chci navštívit")])]),t._v(" "),e("div",{staticClass:"o-visited-button__item"},[e("span",{staticClass:"o-visited-button__button -visited",class:{"-active":1===t.status},on:{click:function(e){return t.editVisited(1)}}},[t._v("Navštívil(a) jsem")])])])])])],1)]):t._e()],1)}),[],!1,null,null,null);e.default=component.exports}}]);