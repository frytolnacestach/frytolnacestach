(window.webpackJsonp=window.webpackJsonp||[]).push([[189,8,11,16,17,44,50,113],{375:function(e,t,n){"use strict";n.r(t);var o={name:"MoleculesmHeadlineComponent",components:{aButtonFill:n(376).default},props:{title:{type:String,required:!0},titleValue:{type:String,required:!1},url:{type:String,required:!1},urlText:{type:String,required:!1},perex:{type:String,required:!1},styleThema:{type:String,required:!1},styleAlign:{type:String,required:!1},styleGap:{type:String,required:!1}}},c=n(2),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",{class:"m-headline"+(e.styleThema?e.styleThema:"")+(e.styleAlign?e.styleAlign:"")+(e.styleGap?e.styleGap:"")},[t("div",{staticClass:"m-headline__outer"},[t("div",{staticClass:"m-headline__inner"},[t("h2",{staticClass:"m-headline__title"},[e._v("\n                "+e._s(e.title)+" "+e._s(e.titleValue?e.titleValue:"")+"\n                "),e.url?t("aButtonFill",{attrs:{url:e.url,text:e.urlText,styleThema:" -small -green",target:"internal"}}):e._e()],1),e._v(" "),e.perex?t("p",{staticClass:"m-headline__perex pt-1"},[e._v(e._s(e.perex))]):e._e()])])])}),[],!1,null,null,null);t.default=component.exports},376:function(e,t,n){"use strict";n.r(t);var o={name:"AtomsaButtonFillComponent",props:{url:{type:String,required:!0},text:{type:String,required:!0},target:{type:String,required:!0},styleThema:{type:String,required:!1}}},c=n(2),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return"internal"===e.target?t("NuxtLink",{class:"a-button-fill"+(e.styleThema?e.styleThema:"")+" hidden-print",attrs:{to:e.url}},[e._v(e._s(e.text))]):t("a",{class:"a-button-fill"+(e.styleThema?e.styleThema:"")+" hidden-print",attrs:{href:e.url,target:"_blank"}},[e._v(e._s(e.text))])}),[],!1,null,null,null);t.default=component.exports},379:function(e,t,n){"use strict";n.r(t);var o={name:"OrganismsoFlashMessagesComponent",props:{text:{type:String,required:!0},styleThema:{type:String,required:!0}}},c=n(2),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return e.text?t("div",{staticClass:"o-flash-messages"},[t("div",{staticClass:"o-flash-messages__items"},[t("div",{class:"o-flash-messages__item"+(e.styleThema?e.styleThema:"")},[t("div",{staticClass:"o-flash-messages__outer"},[t("div",{staticClass:"o-flash-messages__inner"},[t("span",{staticClass:"o-flash-messages__text",domProps:{innerHTML:e._s(e.text)}})])])])])]):e._e()}),[],!1,null,null,null);t.default=component.exports},382:function(e,t,n){"use strict";n.r(t);var o={name:"SkeletonmAccountHeaderComponent",props:{styleThema:{type:String,required:!0}}},c=n(2),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"skeleton-m-account-header"},[t("div",{staticClass:"skeleton-m-account-header__outer"},[t("div",{staticClass:"skeleton-m-account-header__inner"},[t("div",{staticClass:"skeleton-m-account-header__image"},[t("div",{class:"skeleton-m-account-header__image-file loading-image"+e.styleThema})]),e._v(" "),t("div",{staticClass:"skeleton-m-account-header__text"},[t("span",{class:"skeleton-m-account-header__nickname loading-image"+e.styleThema}),e._v(" "),t("span",{class:"skeleton-m-account-header__email loading-image"+e.styleThema})])])])])}),[],!1,null,null,null);t.default=component.exports},383:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var o=n(10);n(54),n(13);function c(e){return l.apply(this,arguments)}function l(){return(l=Object(o.a)(regeneratorRuntime.mark((function e(t){var n,o,c,l,r,m,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=localStorage.getItem("email"),o=localStorage.getItem("password_hash"),c=localStorage.getItem("status"),l=localStorage.getItem("nickname"),!n||"undefined"==n){e.next=27;break}return e.prev=5,e.next=8,fetch("https://api.frytolnacestach.cz/api/user-login-check",{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000","Access-Control-Allow-Headers":"X-Requested-With, Content-Type, Accept","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, PATCH"},method:"POST",body:JSON.stringify({email:n,password:o,status:c,nickname:l})});case 8:(r=e.sent).ok?(console.log("Přihlášení stále aktivní"),(m=new Date).setMonth(m.getMonth()+1),d="expires="+m,localStorage.setItem("email",n),localStorage.setItem("password_hash",o),localStorage.setItem("status",c),localStorage.setItem("nickname",l),document.cookie="FNCemail="+n+";"+d,document.cookie="FNCpass="+o+";"+d,document.cookie="FNCstatus="+c+";"+d,document.cookie="FNCnickname="+l+";"+d):401===r.status?(console.log("Nesprávné přihlašovací údaje"),localStorage.setItem("email","undefined"),localStorage.setItem("password_hash","undefined"),localStorage.setItem("status","undefined"),localStorage.setItem("nickname","undefined"),document.cookie="FNCemail=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCpass=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCstatus=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCnickname=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",t.push("/ucet/prihlaseni")):404===r.status?(console.log("Uživatel nenalezen"),localStorage.setItem("email","undefined"),localStorage.setItem("password_hash","undefined"),localStorage.setItem("status","undefined"),localStorage.setItem("nickname","undefined"),document.cookie="FNCemail=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCpass=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCstatus=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCnickname=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",t.push("/ucet/prihlaseni")):(console.log("Chyba při komunikaci s API"),localStorage.setItem("email","undefined"),localStorage.setItem("password_hash","undefined"),localStorage.setItem("status","undefined"),localStorage.setItem("nickname","undefined"),document.cookie="FNCemail=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCpass=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCstatus=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCnickname=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",t.push("/ucet/prihlaseni")),e.next=25;break;case 12:throw e.prev=12,e.t0=e.catch(5),console.log(e.t0),localStorage.setItem("email","undefined"),localStorage.setItem("password_hash","undefined"),localStorage.setItem("status","undefined"),localStorage.setItem("nickname","undefined"),document.cookie="FNCemail=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCpass=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCstatus=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCnickname=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",t.push("/ucet/prihlaseni"),e.t0;case 25:e.next=36;break;case 27:console.log("Uživatel odhlášen"),localStorage.setItem("email","undefined"),localStorage.setItem("password_hash","undefined"),localStorage.setItem("status","undefined"),document.cookie="FNCemail=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCpass=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCstatus=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCnickname=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",t.push("/ucet/prihlaseni");case 36:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}},384:function(e,t,n){"use strict";n.r(t);var o={name:"MoleculesmAccountHeaderComponent",components:{skeletonmAccountHeader:n(382).default},data:function(){return{nickname:null,email:null,parentVariable:!1}},methods:{updateParentVariable:function(){this.parentVariable=!this.parentVariable;var e=this.parentVariable;this.$emit("update",e)}},mounted:function(){var e=localStorage.getItem("nickname"),t=localStorage.getItem("email");this.nickname=e,this.email=t}},c=n(2),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("section",{staticClass:"t-component-skeleton"},[null===e.nickname?t("skeletonmAccountHeader",{attrs:{styleThema:" -skeleton-dark-blue"}}):e._e(),e._v(" "),null!==e.nickname?t("client-only",[t("div",{staticClass:"m-account-header"},[t("div",{staticClass:"m-account-header__outer"},[t("div",{staticClass:"m-account-header__inner"},[t("div",{staticClass:"m-account-header__image"},[t("div",{staticClass:"m-account-header__image-file"})]),e._v(" "),t("div",{staticClass:"m-account-header__text"},[t("span",{staticClass:"m-account-header__nickname"},[e._v(e._s(e.nickname))]),e._v(" "),t("span",{staticClass:"m-account-header__email"},[e._v(e._s(e.email))])]),e._v(" "),t("div",{staticClass:"m-account-header__nav",class:{"-open":e.parentVariable},on:{click:function(t){return e.updateParentVariable()}}},[t("span",{staticClass:"m-account-header__nav-icon"})])])])])]):e._e()],1)}),[],!1,null,null,null);t.default=component.exports},385:function(e,t,n){"use strict";n.r(t);var o={name:"MoleculesmNavAccountComponent",props:{statusOpen:{type:Boolean,required:!0}},data:function(){return{email:this.email}},methods:{logout:function(){localStorage.setItem("email","undefined"),localStorage.setItem("password_hash","undefined"),localStorage.setItem("status","undefined"),localStorage.setItem("nickname","undefined"),document.cookie="FNCemail=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCpass=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCstatus=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",document.cookie="FNCnickname=;expires=Thu, 01 Jan 1970 00:00:01 GMT;",this.$router.push("/ucet/prihlaseni")}},mounted:function(){var e=localStorage.getItem("email");this.email=e}},c=n(2),component=Object(c.a)(o,(function(){var e=this,t=e._self._c;return t("nav",{staticClass:"m-nav-account",class:{"-open":e.statusOpen},attrs:{role:"navigation"}},[t("div",{staticClass:"m-nav-account__outer"},[t("div",{staticClass:"m-nav-account__inner"},[t("ul",{staticClass:"m-nav-account__items"},[e.email?t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -setting",class:{"-active":"/ucet/profil"===e.$route.path},attrs:{to:"/ucet/profil","exact-active-class":"-active"}},[e._v("Základní informace")])],1):e._e(),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -trophy",class:{"-active":"/ucet/profil/achievementy"===e.$route.path},attrs:{to:"/ucet/profil/achievementy","exact-active-class":"-active"}},[e._v("Achievementy")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -flag",class:{"-active":"/ucet/profil/navstivena-mista"===e.$route.path},attrs:{to:"/ucet/profil/navstivena-mista","exact-active-class":"-active"}},[e._v("Navštívená místa")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -calendar",class:{"-active":"/ucet/profil/chci-navstivit"===e.$route.path},attrs:{to:"/ucet/profil/chci-navstivit","exact-active-class":"-active"}},[e._v("Chci navštívit")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -user",class:{"-active":"/ucet/profil/sleduji"===e.$route.path},attrs:{to:"/ucet/profil/sleduji","exact-active-class":"-active"}},[e._v("Sleduji")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -review",class:{"-active":"/ucet/profil/recenze"===e.$route.path},attrs:{to:"/ucet/profil/recenze","exact-active-class":"-active"}},[e._v("Recenzoval jsem")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -post",class:{"-active":"/ucet/profil/clanky"===e.$route.path},attrs:{to:"/ucet/profil/clanky","exact-active-class":"-active"}},[e._v("Články")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -video",class:{"-active":"/ucet/profil/videa"===e.$route.path},attrs:{to:"/ucet/profil/videa","exact-active-class":"-active"}},[e._v("Videa")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -key",class:{"-active":"/ucet/profil/zmena-hesla"===e.$route.path},attrs:{to:"/ucet/profil/zmena-hesla","exact-active-class":"-active"}},[e._v("Změna hesla")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -data",class:{"-active":"/ucet/profil/moje-data"===e.$route.path},attrs:{to:"/ucet/profil/moje-data","exact-active-class":"-active"}},[e._v("Moje data")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item"},[t("NuxtLink",{staticClass:"js_m-nav-account__link m-nav-account__link -trash",attrs:{to:"/ucet/profil/smazani-uctu"}},[e._v("Smazaní účtu")])],1),e._v(" "),t("li",{staticClass:"m-nav-account__item -logout"},[t("a",{staticClass:"js_m-nav-account__link m-nav-account__link -exit",on:{click:e.logout}},[e._v("Odhlásit se")])])])])])])}),[],!1,null,null,null);t.default=component.exports},609:function(e,t,n){"use strict";n.r(t);var o=n(10),c=(n(54),n(13),{name:"OrganismsoFormPasswordChangeComponent",components:{oFlashMessages:n(379).default},data:function(){return{errorForm:"",successForm:"",email:"",password:"",passwordNew:"",passwordNewCheck:"",passwordCheck:!1}},methods:{passwordChange:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,data,o,c;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.passwordCheck){t.next=35;break}return e.email=localStorage.getItem("email"),t.prev=2,t.next=5,fetch("https://api.frytolnacestach.cz/api/user-password-change",{headers:{"Content-Type":"application/json","Access-Control-Allow-Origin":"http://localhost:3000","Access-Control-Allow-Headers":"X-Requested-With, Content-Type, Accept","Access-Control-Allow-Methods":"GET, POST, PUT, DELETE, PATCH"},method:"POST",body:JSON.stringify({email:e.email,password:e.password,password_new:e.passwordNew})});case 5:if(!(n=t.sent).ok){t.next=25;break}return t.next=9,n.json();case 9:data=t.sent,console.log("Změna hesla byla úspěšná"),e.successForm="Změna hesla byla úspěšná",localStorage.setItem("email",data.message[0].email),localStorage.setItem("password_hash",data.message[0].password),localStorage.setItem("status",data.message[0].status),localStorage.setItem("nickname",data.message[0].nickname),(o=new Date).setMonth(o.getMonth()+1),c="expires="+o,document.cookie="FNCemail="+data.message[0].email+";"+c,document.cookie="FNCpass="+data.message[0].password+";"+c,document.cookie="FNCstatus="+data.message[0].status+";"+c,document.cookie="FNCnickname="+data.message[0].nickname+";"+c,t.next=26;break;case 25:401===n.status?(console.log("Nesprávné aktuální heslo"),e.errorForm="Nesprávné aktuální heslo"):404===n.status?(console.log("Uživatel nenalezen"),e.errorForm="Uživatel nenalezen"):(console.log("Chyba při komunikaci s API"),e.errorForm="Chyba při komunikaci s API");case 26:t.next=33;break;case 28:throw t.prev=28,t.t0=t.catch(2),console.log(t.t0),e.errorForm="Chyba připojení k API",t.t0;case 33:t.next=37;break;case 35:console.log("Nové heslo se neshoduje"),e.errorForm="Nové heslo se neshoduje";case 37:case"end":return t.stop()}}),t,null,[[2,28]])})))()}},watch:{passwordNew:function(){this.passwordCheck=this.passwordNew===this.passwordNewCheck},passwordNewCheck:function(){this.passwordCheck=this.passwordNew===this.passwordNewCheck}}}),l=n(2),component=Object(l.a)(c,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"o-form-password-change"},[t("div",{staticClass:"o-form-password-change__outer"},[t("div",{staticClass:"o-form-password-change__inner"},[t("oFlashMessages",{attrs:{text:e.errorForm,styleThema:" -error"}}),e._v(" "),t("oFlashMessages",{attrs:{text:e.successForm,styleThema:" -success"}}),e._v(" "),t("form",{staticClass:"o-form-password-change__form",on:{submit:function(t){return t.preventDefault(),e.passwordChange.apply(null,arguments)}}},[t("div",{staticClass:"o-form-password-change__items"},[t("div",{staticClass:"o-form-password-change__item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.password,expression:"password"}],staticClass:"a-input -blue",attrs:{type:"password",name:"password",placeholder:"Aktuální heslo"},domProps:{value:e.password},on:{input:function(t){t.target.composing||(e.password=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"o-form-password-change__item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordNew,expression:"passwordNew"}],staticClass:"a-input -blue",attrs:{type:"password",name:"password_new",placeholder:"Nové heslo"},domProps:{value:e.passwordNew},on:{input:function(t){t.target.composing||(e.passwordNew=t.target.value)}}})]),e._v(" "),t("div",{staticClass:"o-form-password-change__item"},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.passwordNewCheck,expression:"passwordNewCheck"}],staticClass:"a-input -blue",attrs:{type:"password",name:"password_new_check",placeholder:"Nové heslo (kontrola)"},domProps:{value:e.passwordNewCheck},on:{input:function(t){t.target.composing||(e.passwordNewCheck=t.target.value)}}})])]),e._v(" "),e._m(0)])],1)])])}),[function(){var e=this._self._c;return e("div",{staticClass:"o-form-password-change__buttons mt-1"},[e("div",{staticClass:"o-form-password-change__button"},[e("div",{staticClass:"m-button -blue"},[e("button",{staticClass:"m-button__input",attrs:{type:"submit"}},[this._v("Změnit heslo")])])])])}],!1,null,null,null);t.default=component.exports},719:function(e,t,n){"use strict";n.r(t);var o=n(383),c=n(384),l=n(375),r=n(385),m=n(609),d={name:"UcetZmenaHeslaPage",components:{mAccountHeader:c.default,mHeadline:l.default,mNavAccount:r.default,oFormPasswordChange:m.default},data:function(){return{mNavAccountOpen:!1}},head:function(){var title,e;return"můj profil, změna hesla, cestovatelský portál, statistiky","https://image.frytolnacestach.cz/storage/main/og-default.png",title="ZMĚNA HESLA | Cestovatelský portál Frytol na cestách",e="Změna hesla k účtu na cetovatelském portálu Frytol na cestách.","website",{title:title,meta:[{hid:"description",name:"description",content:e},{name:"keywords",content:"můj profil, změna hesla, cestovatelský portál, statistiky"},{property:"og:image",content:"https://image.frytolnacestach.cz/storage/main/og-default.png"},{hid:"og:title",content:title},{hid:"og:description",content:"Změna hesla k účtu na cetovatelském portálu Frytol na cestách."},{hid:"og:url",content:"".concat("https://frytolnacestach.cz")},{hid:"og:type",content:"website"}]}},mounted:function(){Object(o.a)(this.$router)},methods:{menuAccountUpdate:function(e){this.mNavAccountOpen=e}}},h=n(2),component=Object(h.a)(d,(function(){var e=this,t=e._self._c;return t("main",{staticClass:"t-main -blue -pt-menu",attrs:{role:"main"}},[t("section",{staticClass:"t-section -padding-x -padding-y -p0 mb-4"},[t("div",{staticClass:"t-section__inner"},[t("div",{staticClass:"t-grid -account"},[t("div",{staticClass:"t-grid__section -nav"},[t("section",{staticClass:"t-section -padding-x -p0"},[t("div",{staticClass:"t-section__inner"},[t("mAccountHeader",{on:{update:e.menuAccountUpdate}})],1)]),e._v(" "),t("section",{staticClass:"t-section -padding-x -p0"},[t("div",{staticClass:"t-section__inner"},[t("mNavAccount",{attrs:{statusOpen:e.mNavAccountOpen}})],1)])]),e._v(" "),t("div",{staticClass:"t-grid__section -content"},[t("section",{staticClass:"t-section -padding-x -p0"},[t("div",{staticClass:"t-section__inner"},[t("mHeadline",{attrs:{title:"Změna hesla",styleThema:" -account -blue",styleAlign:"",styleGap:""}}),e._v(" "),t("oFormPasswordChange")],1)])])])])])])}),[],!1,null,null,null);t.default=component.exports}}]);